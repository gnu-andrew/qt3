<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- /home/espenr/tmp/qt-3.3.8-espenr-2499/qt-x11-free-3.3.8/src/kernel/qpicture.cpp:53 -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>QPicture Class</title>
<style type="text/css"><!--
fn { margin-left: 1cm; text-indent: -1cm; }
a:link { color: #004faf; text-decoration: none }
a:visited { color: #672967; text-decoration: none }
body { background: #ffffff; color: black; }
--></style>
</head>
<body>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr bgcolor="#E5E5E5">
<td valign=center>
 <a href="index.html">
<font color="#004faf">Home</font></a>
 | <a href="classes.html">
<font color="#004faf">All&nbsp;Classes</font></a>
 | <a href="mainclasses.html">
<font color="#004faf">Main&nbsp;Classes</font></a>
 | <a href="annotated.html">
<font color="#004faf">Annotated</font></a>
 | <a href="groups.html">
<font color="#004faf">Grouped&nbsp;Classes</font></a>
 | <a href="functions.html">
<font color="#004faf">Functions</font></a>
</td>
<td align="right" valign="center"><img src="logo32.png" align="right" width="64" height="32" border="0"></td></tr></table><h1 align=center>QPicture Class Reference</h1>

<p>The QPicture class is a paint device that records and
replays QPainter commands.
<a href="#details">More...</a>
<p><tt>#include &lt;<a href="qpicture-h.html">qpicture.h</a>&gt;</tt>
<p>Inherits <a href="qpaintdevice.html">QPaintDevice</a>.
<p><a href="qpicture-members.html">List of all member functions.</a>
<h2>Public Members</h2>
<ul>
<li class=fn><a href="#QPicture"><b>QPicture</b></a> ( int&nbsp;formatVersion = -1 )</li>
<li class=fn><a href="#QPicture-2"><b>QPicture</b></a> ( const&nbsp;QPicture&nbsp;&amp;&nbsp;pic )</li>
<li class=fn><a href="#~QPicture"><b>~QPicture</b></a> ()</li>
<li class=fn>bool <a href="#isNull"><b>isNull</b></a> () const</li>
<li class=fn>uint <a href="#size"><b>size</b></a> () const</li>
<li class=fn>const char * <a href="#data"><b>data</b></a> () const</li>
<li class=fn>virtual void <a href="#setData"><b>setData</b></a> ( const&nbsp;char&nbsp;*&nbsp;data, uint&nbsp;size )</li>
<li class=fn>bool <a href="#play"><b>play</b></a> ( QPainter&nbsp;*&nbsp;painter )</li>
<li class=fn>bool <a href="#load-2"><b>load</b></a> ( QIODevice&nbsp;*&nbsp;dev, const&nbsp;char&nbsp;*&nbsp;format = 0 )</li>
<li class=fn>bool <a href="#load"><b>load</b></a> ( const&nbsp;QString&nbsp;&amp;&nbsp;fileName, const&nbsp;char&nbsp;*&nbsp;format = 0 )</li>
<li class=fn>bool <a href="#save-2"><b>save</b></a> ( QIODevice&nbsp;*&nbsp;dev, const&nbsp;char&nbsp;*&nbsp;format = 0 )</li>
<li class=fn>bool <a href="#save"><b>save</b></a> ( const&nbsp;QString&nbsp;&amp;&nbsp;fileName, const&nbsp;char&nbsp;*&nbsp;format = 0 )</li>
<li class=fn>QRect <a href="#boundingRect"><b>boundingRect</b></a> () const</li>
<li class=fn>void <a href="#setBoundingRect"><b>setBoundingRect</b></a> ( const&nbsp;QRect&nbsp;&amp;&nbsp;r )</li>
<li class=fn>QPicture &amp; <a href="#operator-eq"><b>operator=</b></a> ( const&nbsp;QPicture&nbsp;&amp;&nbsp;p )</li>
</ul>
<h2>Protected Members</h2>
<ul>
<li class=fn>virtual int <a href="#metric"><b>metric</b></a> ( int&nbsp;m ) const</li>
<li class=fn>void <a href="#detach"><b>detach</b></a> ()</li>
<li class=fn>QPicture <a href="#copy"><b>copy</b></a> () const</li>
</ul>
<h2>Related Functions</h2>
<ul>
<li class=fn>QDataStream &amp; <a href="#operator-lt-lt"><b>operator&lt;&lt;</b></a> ( QDataStream&nbsp;&amp;&nbsp;s, const&nbsp;QPicture&nbsp;&amp;&nbsp;r )</li>
<li class=fn>QDataStream &amp; <a href="#operator-gt-gt"><b>operator&gt;&gt;</b></a> ( QDataStream&nbsp;&amp;&nbsp;s, QPicture&nbsp;&amp;&nbsp;r )</li>
</ul>
<hr><a name="details"></a><h2>Detailed Description</h2>


The QPicture class is a paint device that records and
replays <a href="qpainter.html">QPainter</a> commands.
<p> 


<p> A picture serializes painter commands to an IO device in a
platform-independent format. For example, a picture created under
Windows can be read on a Sun SPARC.
<p> Pictures are called meta-files on some platforms.
<p> Qt pictures use a proprietary binary format. Unlike native picture
(meta-file) formats on many window systems, Qt pictures have no
limitations regarding their contents. Everything that can be
painted can also be stored in a picture, e.g. fonts, pixmaps,
regions, transformed graphics, etc.
<p> QPicture is an <a href="shclass.html">implicitly shared</a> class.
<p> Example of how to record a picture:
<pre>
    QPicture  pic;
    <a href="qpainter.html">QPainter</a>  p;
    p.<a href="qpainter.html#begin">begin</a>( &amp;pic );               // paint in picture
    p.<a href="qpainter.html#drawEllipse">drawEllipse</a>( 10,20, 80,70 ); // draw an ellipse
    p.<a href="qpainter.html#end">end</a>();                       // painting done
    pic.<a href="#save">save</a>( "drawing.pic" );     // save picture
    </pre>
 
<p> Example of how to replay a picture:
<pre>
    QPicture  pic;
    pic.<a href="#load">load</a>( "drawing.pic" );     // load picture
    <a href="qpainter.html">QPainter</a>  p;
    p.<a href="qpainter.html#begin">begin</a>( &amp;myWidget );          // paint in myWidget
    p.<a href="qpainter.html#drawPicture">drawPicture</a>( pic );          // draw the picture
    p.<a href="qpainter.html#end">end</a>();                       // painting done
    </pre>
 
<p> Pictures can also be drawn using <a href="#play">play</a>(). Some basic data about a
picture is available, for example, <a href="#size">size</a>(), <a href="#isNull">isNull</a>() and
<a href="#boundingRect">boundingRect</a>().
<p> <p>See also <a href="graphics.html">Graphics Classes</a>, <a href="images.html">Image Processing Classes</a>, and <a href="shared.html">Implicitly and Explicitly Shared Classes</a>.

<hr><h2>Member Function Documentation</h2>
<h3 class=fn><a name="QPicture"></a>QPicture::QPicture ( int&nbsp;formatVersion = -1 )
</h3>
Constructs an empty picture.
<p> The <em>formatVersion</em> parameter may be used to <em>create</em> a QPicture
that can be read by applications that are compiled with earlier
versions of Qt.
<ul>
<li> <em>formatVersion</em> == 1 is binary compatible with Qt 1.x and later.
<li> <em>formatVersion</em> == 2 is binary compatible with Qt 2.0.x and later.
<li> <em>formatVersion</em> == 3 is binary compatible with Qt 2.1.x and later.
<li> <em>formatVersion</em> == 4 is binary compatible with Qt 3.0.x and later.
<li> <em>formatVersion</em> == 5 is binary compatible with Qt 3.1.
</ul>
<p> Note that the default formatVersion is -1 which signifies the
current release, i.e. for Qt 3.1 a formatVersion of 5 is the same
as the default formatVersion of -1.
<p> Reading pictures generated by earlier versions of Qt is supported
and needs no special coding; the format is automatically detected.

<h3 class=fn><a name="QPicture-2"></a>QPicture::QPicture ( const&nbsp;<a href="qpicture.html">QPicture</a>&nbsp;&amp;&nbsp;pic )
</h3>
Constructs a <a href="shclass.html">shallow copy</a> of <em>pic</em>.

<h3 class=fn><a name="~QPicture"></a>QPicture::~QPicture ()
</h3>
Destroys the picture.

<h3 class=fn><a href="qrect.html">QRect</a> <a name="boundingRect"></a>QPicture::boundingRect () const
</h3>
Returns the picture's bounding rectangle or an invalid rectangle
if the picture contains no data.

<h3 class=fn><a href="qpicture.html">QPicture</a> <a name="copy"></a>QPicture::copy () const<tt> [protected]</tt>
</h3>
Returns a <a href="shclass.html">deep copy</a> of the picture.

<h3 class=fn>const char * <a name="data"></a>QPicture::data () const
</h3>

<p> Returns a pointer to the picture data. The pointer is only valid
until the next non-const function is called on this picture. The
returned pointer is 0 if the picture contains no data.
<p> <p>See also <a href="#size">size</a>() and <a href="#isNull">isNull</a>().

<h3 class=fn>void <a name="detach"></a>QPicture::detach ()<tt> [protected]</tt>
</h3>
Detaches from shared picture data and makes sure that this picture
is the only one referring to the data.
<p> If multiple pictures share common data, this picture makes a copy
of the data and detaches itself from the sharing mechanism.
Nothing is done if there is just a single reference.

<h3 class=fn>bool <a name="isNull"></a>QPicture::isNull () const
</h3>

<p> Returns TRUE if the picture contains no data; otherwise returns
FALSE.

<h3 class=fn>bool <a name="load"></a>QPicture::load ( const&nbsp;<a href="qstring.html">QString</a>&nbsp;&amp;&nbsp;fileName, const&nbsp;char&nbsp;*&nbsp;format = 0 )
</h3>
Loads a picture from the file specified by <em>fileName</em> and returns
TRUE if successful; otherwise returns FALSE.
<p> By default, the file will be interpreted as being in the native
QPicture format. Specifying the <em>format</em> string is optional and
is only needed for importing picture data stored in a different
format.
<p> Currently, the only external format supported is the <a href="http://www.w3.org/Graphics/SVG/">W3C SVG</a> format which
requires the <a href="xml.html">Qt XML module</a>. The
corresponding <em>format</em> string is "svg".
<p> <p>See also <a href="#save">save</a>().

<p>Examples: <a href="picture-example.html#x122">picture/picture.cpp</a> and <a href="xform-example.html#x1244">xform/xform.cpp</a>.
<h3 class=fn>bool <a name="load-2"></a>QPicture::load ( <a href="qiodevice.html">QIODevice</a>&nbsp;*&nbsp;dev, const&nbsp;char&nbsp;*&nbsp;format = 0 )
</h3>
This is an overloaded member function, provided for convenience. It behaves essentially like the above function.
<p> <em>dev</em> is the device to use for loading.

<h3 class=fn>int <a name="metric"></a>QPicture::metric ( int&nbsp;m ) const<tt> [virtual protected]</tt>
</h3>
Internal implementation of the virtual QPaintDevice::metric()
function.
<p> Use the <a href="qpaintdevicemetrics.html">QPaintDeviceMetrics</a> class instead.
<p> A picture has the following hard-coded values: dpi=72,
numcolors=16777216 and depth=24.
<p> <em>m</em> is the metric to get.

<h3 class=fn><a href="qpicture.html">QPicture</a>&nbsp;&amp; <a name="operator-eq"></a>QPicture::operator= ( const&nbsp;<a href="qpicture.html">QPicture</a>&nbsp;&amp;&nbsp;p )
</h3>
Assigns a <a href="shclass.html">shallow copy</a> of <em>p</em> to this
picture and returns a reference to this picture.

<h3 class=fn>bool <a name="play"></a>QPicture::play ( <a href="qpainter.html">QPainter</a>&nbsp;*&nbsp;painter )
</h3>
Replays the picture using <em>painter</em>, and returns TRUE if
successful; otherwise returns FALSE.
<p> This function does exactly the same as <a href="qpainter.html#drawPicture">QPainter::drawPicture</a>()
with (x, y) = (0, 0).

<h3 class=fn>bool <a name="save"></a>QPicture::save ( const&nbsp;<a href="qstring.html">QString</a>&nbsp;&amp;&nbsp;fileName, const&nbsp;char&nbsp;*&nbsp;format = 0 )
</h3>
Saves a picture to the file specified by <em>fileName</em> and returns
TRUE if successful; otherwise returns FALSE.
<p> Specifying the file <em>format</em> string is optional. It's not
recommended unless you intend to export the picture data for
use by a third party reader. By default the data will be saved in
the native QPicture file format.
<p> Currently, the only external format supported is the <a href="http://www.w3.org/Graphics/SVG/">W3C SVG</a> format which
requires the <a href="xml.html">Qt XML module</a>. The
corresponding <em>format</em> string is "svg".
<p> <p>See also <a href="#load">load</a>().

<p>Example: <a href="picture-example.html#x123">picture/picture.cpp</a>.
<h3 class=fn>bool <a name="save-2"></a>QPicture::save ( <a href="qiodevice.html">QIODevice</a>&nbsp;*&nbsp;dev, const&nbsp;char&nbsp;*&nbsp;format = 0 )
</h3>
This is an overloaded member function, provided for convenience. It behaves essentially like the above function.
<p> <em>dev</em> is the device to use for saving.

<h3 class=fn>void <a name="setBoundingRect"></a>QPicture::setBoundingRect ( const&nbsp;<a href="qrect.html">QRect</a>&nbsp;&amp;&nbsp;r )
</h3>
Sets the picture's bounding rectangle to <em>r</em>. The automatically
calculated value is overriden.

<h3 class=fn>void <a name="setData"></a>QPicture::setData ( const&nbsp;char&nbsp;*&nbsp;data, uint&nbsp;size )<tt> [virtual]</tt>
</h3>
Sets the picture data directly from <em>data</em> and <em>size</em>. This
function copies the input data.
<p> <p>See also <a href="#data">data</a>() and <a href="#size">size</a>().

<h3 class=fn>uint <a name="size"></a>QPicture::size () const
</h3>

<p> Returns the size of the picture data.
<p> <p>See also <a href="#data">data</a>().

<hr><h2>Related Functions</h2>
<h3 class=fn><a href="qdatastream.html">QDataStream</a>&nbsp;&amp; <a name="operator-lt-lt"></a>operator&lt;&lt; ( <a href="qdatastream.html">QDataStream</a>&nbsp;&amp;&nbsp;s, const&nbsp;<a href="qpicture.html">QPicture</a>&nbsp;&amp;&nbsp;r )
</h3>

<p> Writes picture <em>r</em> to the stream <em>s</em> and returns a reference to
the stream.

<h3 class=fn><a href="qdatastream.html">QDataStream</a>&nbsp;&amp; <a name="operator-gt-gt"></a>operator&gt;&gt; ( <a href="qdatastream.html">QDataStream</a>&nbsp;&amp;&nbsp;s, <a href="qpicture.html">QPicture</a>&nbsp;&amp;&nbsp;r )
</h3>

<p> Reads a picture from the stream <em>s</em> into picture <em>r</em> and returns
a reference to the stream.

<!-- eof -->
<hr><p>
This file is part of the <a href="index.html">Qt toolkit</a>.
Copyright &copy; 1995-2007
<a href="http://www.trolltech.com/">Trolltech</a>. All Rights Reserved.<p><address><hr><div align=center>
<table width=100% cellspacing=0 border=0><tr>
<td>Copyright &copy; 2007
<a href="troll.html">Trolltech</a><td align=center><a href="trademarks.html">Trademarks</a>
<td align=right><div align=right>Qt 3.3.8</div>
</table></div></address></body>
</html>
