<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- /home/espenr/tmp/qt-3.3.8-espenr-2499/qt-x11-free-3.3.8/src/sql/qsqlresult.cpp:54 -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>QSqlResult Class</title>
<style type="text/css"><!--
fn { margin-left: 1cm; text-indent: -1cm; }
a:link { color: #004faf; text-decoration: none }
a:visited { color: #672967; text-decoration: none }
body { background: #ffffff; color: black; }
--></style>
</head>
<body>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr bgcolor="#E5E5E5">
<td valign=center>
 <a href="index.html">
<font color="#004faf">Home</font></a>
 | <a href="classes.html">
<font color="#004faf">All&nbsp;Classes</font></a>
 | <a href="mainclasses.html">
<font color="#004faf">Main&nbsp;Classes</font></a>
 | <a href="annotated.html">
<font color="#004faf">Annotated</font></a>
 | <a href="groups.html">
<font color="#004faf">Grouped&nbsp;Classes</font></a>
 | <a href="functions.html">
<font color="#004faf">Functions</font></a>
</td>
<td align="right" valign="center"><img src="logo32.png" align="right" width="64" height="32" border="0"></td></tr></table><h1 align=center>QSqlResult Class Reference<br><small>[<a href="sql.html">sql module</a>]</small></h1>

<p>The QSqlResult class provides an abstract interface for
accessing data from SQL databases.
<a href="#details">More...</a>
<p><tt>#include &lt;<a href="qsqlresult-h.html">qsqlresult.h</a>&gt;</tt>
<p><a href="qsqlresult-members.html">List of all member functions.</a>
<h2>Public Members</h2>
<ul>
<li class=fn>virtual <a href="#~QSqlResult"><b>~QSqlResult</b></a> ()</li>
</ul>
<h2>Protected Members</h2>
<ul>
<li class=fn><a href="#QSqlResult"><b>QSqlResult</b></a> ( const&nbsp;QSqlDriver&nbsp;*&nbsp;db )</li>
<li class=fn>int <a href="#at"><b>at</b></a> () const</li>
<li class=fn>QString <a href="#lastQuery"><b>lastQuery</b></a> () const</li>
<li class=fn>QSqlError <a href="#lastError"><b>lastError</b></a> () const</li>
<li class=fn>bool <a href="#isValid"><b>isValid</b></a> () const</li>
<li class=fn>bool <a href="#isActive"><b>isActive</b></a> () const</li>
<li class=fn>bool <a href="#isSelect"><b>isSelect</b></a> () const</li>
<li class=fn>bool <a href="#isForwardOnly"><b>isForwardOnly</b></a> () const</li>
<li class=fn>const QSqlDriver * <a href="#driver"><b>driver</b></a> () const</li>
<li class=fn>virtual void <a href="#setAt"><b>setAt</b></a> ( int&nbsp;at )</li>
<li class=fn>virtual void <a href="#setActive"><b>setActive</b></a> ( bool&nbsp;a )</li>
<li class=fn>virtual void <a href="#setLastError"><b>setLastError</b></a> ( const&nbsp;QSqlError&nbsp;&amp;&nbsp;e )</li>
<li class=fn>virtual void <a href="#setQuery"><b>setQuery</b></a> ( const&nbsp;QString&nbsp;&amp;&nbsp;query )</li>
<li class=fn>virtual void <a href="#setSelect"><b>setSelect</b></a> ( bool&nbsp;s )</li>
<li class=fn>virtual void <a href="#setForwardOnly"><b>setForwardOnly</b></a> ( bool&nbsp;forward )</li>
<li class=fn>virtual QVariant <a href="#data"><b>data</b></a> ( int&nbsp;i ) = 0</li>
<li class=fn>virtual bool <a href="#isNull"><b>isNull</b></a> ( int&nbsp;i ) = 0</li>
<li class=fn>virtual bool <a href="#reset"><b>reset</b></a> ( const&nbsp;QString&nbsp;&amp;&nbsp;query ) = 0</li>
<li class=fn>virtual bool <a href="#fetch"><b>fetch</b></a> ( int&nbsp;i ) = 0</li>
<li class=fn>virtual bool <a href="#fetchNext"><b>fetchNext</b></a> ()</li>
<li class=fn>virtual bool <a href="#fetchPrev"><b>fetchPrev</b></a> ()</li>
<li class=fn>virtual bool <a href="#fetchFirst"><b>fetchFirst</b></a> () = 0</li>
<li class=fn>virtual bool <a href="#fetchLast"><b>fetchLast</b></a> () = 0</li>
<li class=fn>virtual int <a href="#size"><b>size</b></a> () = 0</li>
<li class=fn>virtual int <a href="#numRowsAffected"><b>numRowsAffected</b></a> () = 0</li>
</ul>
<hr><a name="details"></a><h2>Detailed Description</h2>


The QSqlResult class provides an abstract interface for
accessing data from SQL databases.
<p> 

<p> Normally you would use <a href="qsqlquery.html">QSqlQuery</a> instead of QSqlResult since QSqlQuery
provides a generic wrapper for database-specific implementations of
QSqlResult.
<p> <p>See also <a href="qsql.html">QSql</a> and <a href="database.html">Database Classes</a>.

<hr><h2>Member Function Documentation</h2>
<h3 class=fn><a name="QSqlResult"></a>QSqlResult::QSqlResult ( const&nbsp;<a href="qsqldriver.html">QSqlDriver</a>&nbsp;*&nbsp;db )<tt> [protected]</tt>
</h3>
Protected constructor which creates a QSqlResult using database <em>db</em>. The object is initialized to an inactive state.

<h3 class=fn><a name="~QSqlResult"></a>QSqlResult::~QSqlResult ()<tt> [virtual]</tt>
</h3>
Destroys the object and frees any allocated resources.

<h3 class=fn>int <a name="at"></a>QSqlResult::at () const<tt> [protected]</tt>
</h3>
Returns the current (zero-based) position of the result.

<h3 class=fn><a href="qvariant.html">QVariant</a> <a name="data"></a>QSqlResult::data ( int&nbsp;i )<tt> [pure virtual protected]</tt>
</h3>

<p> Returns the data for field <em>i</em> (zero-based) as a <a href="qvariant.html">QVariant</a>. This
function is only called if the result is in an active state and is
positioned on a valid record and <em>i</em> is non-negative.
Derived classes must reimplement this function and return the value
of field <em>i</em>, or QVariant() if it cannot be determined.

<h3 class=fn>const&nbsp;<a href="qsqldriver.html">QSqlDriver</a>&nbsp;* <a name="driver"></a>QSqlResult::driver () const<tt> [protected]</tt>
</h3>
Returns the driver associated with the result.

<h3 class=fn>bool <a name="fetch"></a>QSqlResult::fetch ( int&nbsp;i )<tt> [pure virtual protected]</tt>
</h3>

<p> Positions the result to an arbitrary (zero-based) index <em>i</em>. This
function is only called if the result is in an active state. Derived
classes must reimplement this function and position the result to the
index <em>i</em>, and call <a href="#setAt">setAt</a>() with an appropriate value. Return TRUE
to indicate success, or FALSE to signify failure.

<h3 class=fn>bool <a name="fetchFirst"></a>QSqlResult::fetchFirst ()<tt> [pure virtual protected]</tt>
</h3>

<p> Positions the result to the first record in the result. This
function is only called if the result is in an active state.
Derived classes must reimplement this function and position the result
to the first record, and call <a href="#setAt">setAt</a>() with an appropriate value.
Return TRUE to indicate success, or FALSE to signify failure.

<h3 class=fn>bool <a name="fetchLast"></a>QSqlResult::fetchLast ()<tt> [pure virtual protected]</tt>
</h3>

<p> Positions the result to the last record in the result. This
function is only called if the result is in an active state.
Derived classes must reimplement this function and position the result
to the last record, and call <a href="#setAt">setAt</a>() with an appropriate value.
Return TRUE to indicate success, or FALSE to signify failure.

<h3 class=fn>bool <a name="fetchNext"></a>QSqlResult::fetchNext ()<tt> [virtual protected]</tt>
</h3>
Positions the result to the next available record in the result.
This function is only called if the result is in an active state.
The default implementation calls <a href="#fetch">fetch</a>() with the next index.
Derived classes can reimplement this function and position the result
to the next record in some other way, and call <a href="#setAt">setAt</a>() with an
appropriate value. Return TRUE to indicate success, or FALSE to
signify failure.

<h3 class=fn>bool <a name="fetchPrev"></a>QSqlResult::fetchPrev ()<tt> [virtual protected]</tt>
</h3>
Positions the result to the previous available record in the
result. This function is only called if the result is in an active
state. The default implementation calls <a href="#fetch">fetch</a>() with the previous
index. Derived classes can reimplement this function and position the
result to the next record in some other way, and call <a href="#setAt">setAt</a>() with
an appropriate value. Return TRUE to indicate success, or FALSE to
signify failure.

<h3 class=fn>bool <a name="isActive"></a>QSqlResult::isActive () const<tt> [protected]</tt>
</h3>
Returns TRUE if the result has records to be retrieved; otherwise
returns FALSE.

<h3 class=fn>bool <a name="isForwardOnly"></a>QSqlResult::isForwardOnly () const<tt> [protected]</tt>
</h3>
Returns TRUE if you can only scroll forward through a result set;
otherwise returns FALSE.

<h3 class=fn>bool <a name="isNull"></a>QSqlResult::isNull ( int&nbsp;i )<tt> [pure virtual protected]</tt>
</h3>

<p> Returns TRUE if the field at position <em>i</em> is NULL; otherwise
returns FALSE.

<h3 class=fn>bool <a name="isSelect"></a>QSqlResult::isSelect () const<tt> [protected]</tt>
</h3>
Returns TRUE if the current result is from a SELECT statement;
otherwise returns FALSE.

<h3 class=fn>bool <a name="isValid"></a>QSqlResult::isValid () const<tt> [protected]</tt>
</h3>
Returns TRUE if the result is positioned on a valid record (that
is, the result is not positioned before the first or after the
last record); otherwise returns FALSE.

<h3 class=fn><a href="qsqlerror.html">QSqlError</a> <a name="lastError"></a>QSqlResult::lastError () const<tt> [protected]</tt>
</h3>
Returns the last error associated with the result.

<h3 class=fn><a href="qstring.html">QString</a> <a name="lastQuery"></a>QSqlResult::lastQuery () const<tt> [protected]</tt>
</h3>
Returns the current SQL query text, or <a href="qstring.html#QString-null">QString::null</a> if there is none.

<h3 class=fn>int <a name="numRowsAffected"></a>QSqlResult::numRowsAffected ()<tt> [pure virtual protected]</tt>
</h3>

<p> Returns the number of rows affected by the last query executed.

<h3 class=fn>bool <a name="reset"></a>QSqlResult::reset ( const&nbsp;<a href="qstring.html">QString</a>&nbsp;&amp;&nbsp;query )<tt> [pure virtual protected]</tt>
</h3>

<p> Sets the result to use the SQL statement <em>query</em> for subsequent
data retrieval. Derived classes must reimplement this function and
apply the <em>query</em> to the database. This function is called only
after the result is set to an inactive state and is positioned
before the first record of the new result. Derived classes should
return TRUE if the query was successful and ready to be used,
or FALSE otherwise.

<h3 class=fn>void <a name="setActive"></a>QSqlResult::setActive ( bool&nbsp;a )<tt> [virtual protected]</tt>
</h3>
Protected function provided for derived classes to set the
internal active state to the value of <em>a</em>.
<p> <p>See also <a href="#isActive">isActive</a>().

<h3 class=fn>void <a name="setAt"></a>QSqlResult::setAt ( int&nbsp;at )<tt> [virtual protected]</tt>
</h3>
Protected function provided for derived classes to set the
internal (zero-based) result index to <em>at</em>.
<p> <p>See also <a href="#at">at</a>().

<h3 class=fn>void <a name="setForwardOnly"></a>QSqlResult::setForwardOnly ( bool&nbsp;forward )<tt> [virtual protected]</tt>
</h3>
Sets forward only mode to <em>forward</em>. If forward is TRUE only
<a href="#fetchNext">fetchNext</a>() is allowed for navigating the results. Forward only
mode needs far less memory since results do not have to be cached.
forward only mode is off by default.
<p> <p>See also <a href="#fetchNext">fetchNext</a>().

<h3 class=fn>void <a name="setLastError"></a>QSqlResult::setLastError ( const&nbsp;<a href="qsqlerror.html">QSqlError</a>&nbsp;&amp;&nbsp;e )<tt> [virtual protected]</tt>
</h3>
Protected function provided for derived classes to set the last
error to the value of <em>e</em>.
<p> <p>See also <a href="#lastError">lastError</a>().

<h3 class=fn>void <a name="setQuery"></a>QSqlResult::setQuery ( const&nbsp;<a href="qstring.html">QString</a>&nbsp;&amp;&nbsp;query )<tt> [virtual protected]</tt>
</h3>
Sets the current query for the result to <em>query</em>. The result must
be <a href="#reset">reset</a>() in order to execute the query on the database.

<h3 class=fn>void <a name="setSelect"></a>QSqlResult::setSelect ( bool&nbsp;s )<tt> [virtual protected]</tt>
</h3>
Protected function provided for derived classes to indicate
whether or not the current statement is a SQL SELECT statement.
The <em>s</em> parameter should be TRUE if the statement is a SELECT
statement, or FALSE otherwise.

<h3 class=fn>int <a name="size"></a>QSqlResult::size ()<tt> [pure virtual protected]</tt>
</h3>

<p> Returns the size of the result or -1 if it cannot be determined.

<!-- eof -->
<hr><p>
This file is part of the <a href="index.html">Qt toolkit</a>.
Copyright &copy; 1995-2007
<a href="http://www.trolltech.com/">Trolltech</a>. All Rights Reserved.<p><address><hr><div align=center>
<table width=100% cellspacing=0 border=0><tr>
<td>Copyright &copy; 2007
<a href="troll.html">Trolltech</a><td align=center><a href="trademarks.html">Trademarks</a>
<td align=right><div align=right>Qt 3.3.8</div>
</table></div></address></body>
</html>
