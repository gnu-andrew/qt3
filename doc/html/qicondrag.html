<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- /home/espenr/tmp/qt-3.3.8-espenr-2499/qt-x11-free-3.3.8/src/iconview/qiconview.cpp:585 -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>QIconDrag Class</title>
<style type="text/css"><!--
fn { margin-left: 1cm; text-indent: -1cm; }
a:link { color: #004faf; text-decoration: none }
a:visited { color: #672967; text-decoration: none }
body { background: #ffffff; color: black; }
--></style>
</head>
<body>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr bgcolor="#E5E5E5">
<td valign=center>
 <a href="index.html">
<font color="#004faf">Home</font></a>
 | <a href="classes.html">
<font color="#004faf">All&nbsp;Classes</font></a>
 | <a href="mainclasses.html">
<font color="#004faf">Main&nbsp;Classes</font></a>
 | <a href="annotated.html">
<font color="#004faf">Annotated</font></a>
 | <a href="groups.html">
<font color="#004faf">Grouped&nbsp;Classes</font></a>
 | <a href="functions.html">
<font color="#004faf">Functions</font></a>
</td>
<td align="right" valign="center"><img src="logo32.png" align="right" width="64" height="32" border="0"></td></tr></table><h1 align=center>QIconDrag Class Reference<br><small>[<a href="iconview.html">iconview module</a>]</small></h1>

<p>The QIconDrag class supports drag and drop operations
within a QIconView.
<a href="#details">More...</a>
<p><tt>#include &lt;<a href="qiconview-h.html">qiconview.h</a>&gt;</tt>
<p>Inherits <a href="qdragobject.html">QDragObject</a>.
<p><a href="qicondrag-members.html">List of all member functions.</a>
<h2>Public Members</h2>
<ul>
<li class=fn><a href="#QIconDrag"><b>QIconDrag</b></a> ( QWidget&nbsp;*&nbsp;dragSource, const&nbsp;char&nbsp;*&nbsp;name = 0 )</li>
<li class=fn>virtual <a href="#~QIconDrag"><b>~QIconDrag</b></a> ()</li>
<li class=fn>void <a href="#append"><b>append</b></a> ( const&nbsp;QIconDragItem&nbsp;&amp;&nbsp;i, const&nbsp;QRect&nbsp;&amp;&nbsp;pr, const&nbsp;QRect&nbsp;&amp;&nbsp;tr )</li>
<li class=fn>virtual QByteArray <a href="#encodedData"><b>encodedData</b></a> ( const&nbsp;char&nbsp;*&nbsp;mime ) const</li>
</ul>
<h2>Static Public Members</h2>
<ul>
<li class=fn>bool <a href="#canDecode"><b>canDecode</b></a> ( QMimeSource&nbsp;*&nbsp;e )</li>
</ul>
<hr><a name="details"></a><h2>Detailed Description</h2>


<p> The QIconDrag class supports drag and drop operations
within a <a href="qiconview.html">QIconView</a>.
<p> 

<p> A QIconDrag object is used to maintain information about the
positions of dragged items and the data associated with the
dragged items. QIconViews are able to use this information to
paint the dragged items in the correct positions. Internally
QIconDrag stores the data associated with drag items in
<a href="qicondragitem.html">QIconDragItem</a> objects.
<p> If you want to use the extended drag-and-drop functionality of
QIconView, create a QIconDrag object in a reimplementation of
<a href="qiconview.html#dragObject">QIconView::dragObject</a>(). Then create a QIconDragItem for each item
which should be dragged, set the data it represents with
<a href="qicondragitem.html#setData">QIconDragItem::setData</a>(), and add each QIconDragItem to the drag
object using <a href="#append">append</a>().
<p> The data in QIconDragItems is stored in a <a href="qbytearray.html">QByteArray</a> and is
mime-typed (see <a href="qmimesource.html">QMimeSource</a> and the
<a href="http://doc.trolltech.com/dnd.html">Drag and Drop</a>
overview). If you want to use your own mime-types derive a class
from QIconDrag and reimplement <a href="qmimesource.html#format">format</a>(), <a href="#encodedData">encodedData</a>() and
<a href="#canDecode">canDecode</a>().
<p> The fileiconview example program demonstrates the use of the
QIconDrag class including subclassing and reimplementing
dragObject(), format(), encodedData() and canDecode(). See the files
<tt>qt/examples/fileiconview/qfileiconview.h</tt> and
<tt>qt/examples/fileiconview/qfileiconview.cpp</tt>.
<p> <p>See also <a href="qmimesource.html#format">QMimeSource::format</a>() and <a href="draganddrop.html">Drag And Drop Classes</a>.

<hr><h2>Member Function Documentation</h2>
<h3 class=fn><a name="QIconDrag"></a>QIconDrag::QIconDrag ( <a href="qwidget.html">QWidget</a>&nbsp;*&nbsp;dragSource, const&nbsp;char&nbsp;*&nbsp;name = 0 )
</h3>
Constructs a drag object called <em>name</em>, which is a child of <em>dragSource</em>.
<p> Note that the drag object will be deleted when <em>dragSource</em> is deleted.

<h3 class=fn><a name="~QIconDrag"></a>QIconDrag::~QIconDrag ()<tt> [virtual]</tt>
</h3>
Destructor.

<h3 class=fn>void <a name="append"></a>QIconDrag::append ( const&nbsp;<a href="qicondragitem.html">QIconDragItem</a>&nbsp;&amp;&nbsp;i, const&nbsp;<a href="qrect.html">QRect</a>&nbsp;&amp;&nbsp;pr, const&nbsp;<a href="qrect.html">QRect</a>&nbsp;&amp;&nbsp;tr )
</h3>
Append the <a href="qicondragitem.html">QIconDragItem</a>, <em>i</em>, to the QIconDrag object's list of
items. You must also supply the geometry of the pixmap, <em>pr</em>, and
the textual caption, <em>tr</em>.
<p> <p>See also <a href="qicondragitem.html">QIconDragItem</a>.

<p>Example: <a href="fileiconview-example.html#x829">fileiconview/qfileiconview.cpp</a>.
<h3 class=fn>bool <a name="canDecode"></a>QIconDrag::canDecode ( <a href="qmimesource.html">QMimeSource</a>&nbsp;*&nbsp;e )<tt> [static]</tt>
</h3>
Returns TRUE if <em>e</em> can be decoded by the QIconDrag, otherwise
return FALSE.

<p>Example: <a href="fileiconview-example.html#x830">fileiconview/qfileiconview.cpp</a>.
<h3 class=fn><a href="qbytearray.html">QByteArray</a> <a name="encodedData"></a>QIconDrag::encodedData ( const&nbsp;char&nbsp;*&nbsp;mime ) const<tt> [virtual]</tt>
</h3>
Returns the encoded data of the drag object if <em>mime</em> is
application/x-qiconlist.

<p>Example: <a href="fileiconview-example.html#x831">fileiconview/qfileiconview.cpp</a>.
<p>Reimplemented from <a href="qmimesource.html#encodedData">QMimeSource</a>.
<!-- eof -->
<hr><p>
This file is part of the <a href="index.html">Qt toolkit</a>.
Copyright &copy; 1995-2007
<a href="http://www.trolltech.com/">Trolltech</a>. All Rights Reserved.<p><address><hr><div align=center>
<table width=100% cellspacing=0 border=0><tr>
<td>Copyright &copy; 2007
<a href="troll.html">Trolltech</a><td align=center><a href="trademarks.html">Trademarks</a>
<td align=right><div align=right>Qt 3.3.8</div>
</table></div></address></body>
</html>
